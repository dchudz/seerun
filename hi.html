
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1
/jquery.min.js"></script>
<style>
* {
    box-sizing: border-box;
}

html, body {margin: 0; height: 100%; overflow: hidden}

/* Create two equal columns that floats next to each other */
.column1 {
    float: left;
    width: 60%;
    padding: 10px;
    height: 7000px;
    overflow: auto;
    display:block;

}

.column2 {
    float: left;
    width: 40%;
    padding: 10px;
    height: 300px; /* Should be removed. Only for demonstration */
    overflow: scroll;
}
/* Clear floats after the columns */
.row:after {
    content: "";
    display: table;
    clear: both;
}
</style>
</head>
<body>

<div class="row">
  <div class="column1">
<pre>

<span class="node" id="dunno"><span title="hi" class="text"># coding=utf-8
#
# This file is part of Hypothesis, which may be found at
# https://github.com/HypothesisWorks/hypothesis-python
#
# Most of this work is copyright (C) 2013-2018 David R. MacIver
# (david@drmaciver.com), but it contains contributions by others. See
# CONTRIBUTING.rst for a full list of people who may hold copyright, and
# consult the git log if you need to determine who owns an individual
# contribution.
#
# This Source Code Form is subject to the terms of the Mozilla Public License,
# v. 2.0. If a copy of the MPL was not distributed with this file, You can
# obtain one at http://mozilla.org/MPL/2.0/.
#
# END HEADER

</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span></span><span title="hi" class="text"> __future__ import division, print_function, absolute_import</span></span><span title="hi" class="text">

</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">import</span></span><span title="hi" class="text"> heapq</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> enum import Enum</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span><span title="hi" class="text"> random import Random, getrandbits</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> weakref import WeakKeyDictionary</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> collections import defaultdict</span></span><span title="hi" class="text">

</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">import</span></span><span title="hi" class="text"> attr</span></span><span title="hi" class="text">

</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span></span><span title="hi" class="text"> hypothesis import Phase, Verbosity, HealthCheck</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> hypothesis import settings as Settings</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> hypothesis.reporting import debug_report</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span></span></span></span></span></span></span></span></span><span title="hi" class="text"> hypothesis.internal.compat import Counter, ceil, hbytes, hrange, \
    int_to_text, int_to_bytes, benchmark_time, int_from_bytes, \
    to_bytes_sequence, unicode_safe_repr</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> hypothesis.utils.conventions import UniqueIdentifier</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span><span title="hi" class="text"> hypothesis.internal.healthcheck import fail_health_check</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span></span></span><span title="hi" class="text"> hypothesis.internal.conjecture.data import MAX_DEPTH, Status, \
    StopTest, ConjectureData</span></span><span title="hi" class="text">
</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">from</span></span></span><span title="hi" class="text"> hypothesis.internal.conjecture.minimizer import minimize, minimize_int</span></span><span title="hi" class="text">

# Tell pytest to omit the body of this module from tracebacks
# http://doc.pytest.org/en/latest/example/simple.html#writing-well-integrated-assertion-helpers
</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">__tracebackhide__</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HUNG_TEST_TIME_LIMIT</span></span><span title="hi" class="text"> = </span><span class="node" id="300"><span class="node" id="dunno"><span title="hi" class="text">5</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">60</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.s</span></span><span title="hi" class="text">
class HealthCheckState(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">valid_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="_CountingAttr(counter=24, _default=0, repr=True, cmp=True, hash=None, init=True, metadata={})"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.ib</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">default=</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">invalid_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="_CountingAttr(counter=25, _default=0, repr=True, cmp=True, hash=None, init=True, metadata={})"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.ib</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">default=</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">overrun_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="_CountingAttr(counter=26, _default=0, repr=True, cmp=True, hash=None, init=True, metadata={})"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.ib</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">default=</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">draw_times</span></span><span title="hi" class="text"> = </span><span class="node" id="_CountingAttr(counter=27, _default=Factory(factory=&lt;class &#x27;list&#x27;&gt;, takes_self=False), repr=True, cmp=True, hash=None, init=True, metadata={})"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.ib</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">default=</span><span class="node" id="Factory(factory=&lt;class &#x27;list&#x27;&gt;, takes_self=False)"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attr</span></span><span title="hi" class="text">.Factory</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">list</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class ExitReason(</span><span class="node" id="dunno"><span title="hi" class="text">Enum</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_iterations</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">timeout</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_shrinks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">3</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">finished</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">4</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">flaky</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">5</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class RunIsComplete(</span><span class="node" id="dunno"><span title="hi" class="text">Exception</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class ConjectureRunner(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):

    </span><span class="node" id="dunno"><span title="hi" class="text">def __init__(
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">test_function</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">settings</span></span><span title="hi" class="text">=</span><span class="node" id="dunno"><span title="hi" class="text">None</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">random</span></span><span title="hi" class="text">=</span><span class="node" id="dunno"><span title="hi" class="text">None</span></span><span title="hi" class="text">,
        </span><span class="node" id="dunno"><span title="hi" class="text">database_key</span></span><span title="hi" class="text">=</span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">,
    ):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">._test_function</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">test_function</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">settings</span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span title="hi" class="text">Settings()</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrinks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.call_count</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.event_call_counts</span></span><span title="hi" class="text"> = </span><span class="node" id="Counter()"><span title="hi" class="text">Counter()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.start_time</span></span><span title="hi" class="text"> = </span><span class="node" id="124375.046214097"><span title="hi" class="text">benchmark_time()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">random</span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span title="hi" class="text">Random(</span><span class="node" id="dunno"><span title="hi" class="text">getrandbits(</span><span class="node" id="dunno"><span title="hi" class="text">128</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">database_key</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.status_runtimes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.all_drawtimes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.all_runtimes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.events_to_strings</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;WeakKeyDictionary at 0x1050d0be0&gt;"><span title="hi" class="text">WeakKeyDictionary()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.target_selector</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.engine.TargetSelector object at 0x1050d0898&gt;"><span title="hi" class="text">TargetSelector(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        # Tree nodes are stored in an array to prevent heavy nesting of data
        # structures. Branches are dicts mapping bytes to child nodes (which
        # will in general only be partially populated). Leaves are
        # ConjectureData objects that have been previously seen as the result
        # of following that path.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        # A node is dead if there is nothing left to explore past that point.
        # Recursively, a node is dead if either it is a leaf or every byte
        # leads to a dead node when starting from here.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span><span title="hi" class="text"> = </span><span class="node" id="set()"><span title="hi" class="text">set()</span></span></span><span title="hi" class="text">

        # We rewrite the byte stream at various points during parsing, to one
        # that will produce an equivalent result but is in some sense more
        # canonical. We keep track of these so that when walking the tree we
        # can identify nodes where the exact byte value doesn&#x27;t matter and
        # treat all bytes there as equivalent. This significantly reduces the
        # size of the search space and removes a lot of redundant examples.

        # Maps tree indices where to the unique byte that is valid at that
        # point. Corresponds to data.write() calls.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        # Maps tree indices to the maximum byte that is valid at that point.
        # Currently this is only used inside draw_bits, but it potentially
        # could get used elsewhere.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.capped</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        # Where a tree node consists of the beginning of a block we track the
        # size of said block. This allows us to tell when an example is too
        # short even if it goes off the unexplored region of the tree - if it
        # is at the beginning of a block of size 4 but only has 3 bytes left,
        # it&#x27;s going to overrun the end of the buffer regardless of the
        # buffer contents.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.block_sizes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrunk_examples</span></span><span title="hi" class="text"> = </span><span class="node" id="set()"><span title="hi" class="text">set()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag_intern_table</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.used_examples_from_database</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __tree_is_exhausted(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def test_function(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="0.1698166400019545"><span class="node" id="124375.21613154"><span title="hi" class="text">benchmark_time()</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.start_time</span></span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">HUNG_TEST_TIME_LIMIT</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">fail_health_check(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">, (
                </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Your test has been running for at least five minutes. This &#x27;
                &#x27;is probably not what you intended, so by default Hypothesis &#x27;
                &#x27;turns it into an error.&#x27;</span></span><span title="hi" class="text">
            ), </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HealthCheck</span></span><span title="hi" class="text">.hung_test</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.call_count</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">try:
            </span><span class="node" id="False"><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">._test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.freeze</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">StopTest</span></span><span title="hi" class="text"> as e:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e</span></span><span title="hi" class="text">.testcounter</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.testcounter</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.save_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">raise </span><span class="node" id="dunno"><span title="hi" class="text">e</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">BaseException</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.save_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">raise</span></span></span><span title="hi" class="text">
        finally:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.freeze</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.note_details</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.target_selector</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug_data</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tags</span></span><span title="hi" class="text"> = </span><span class="node" id="frozenset({&lt;hypothesis.core.Arc object at 0x10506dc08&gt;, &lt;hypothesis.core.Arc object at 0x10507a408&gt;, &lt;hypothesis.core.Arc object at 0x10506d848&gt;, &lt;hypothesis.core.Arc object at 0x10506dc48&gt;, &lt;hypothesis.core.Arc object at 0x10506d888&gt;, StructuralTag(label=6611492990206346368), &lt;hypothesis.core.Arc object at 0x10506d948&gt;, &lt;hypothesis.core.Arc object at 0x10506d988&gt;, &lt;hypothesis.core.Arc object at 0x10506d9c8&gt;, StructuralTag(label=7647621239500605823), StructuralTag(label=4549258227570135733), StructuralTag(label=6398413476957786987), &lt;hypothesis.core.Arc object at 0x10506da88&gt;, StructuralTag(label=10953678897638010412), &lt;hypothesis.core.Arc object at 0x10506dac8&gt;, StructuralTag(label=3729209777192900792), StructuralTag(label=14537950370913338056), StructuralTag(label=1590343644232068753), StructuralTag(label=15165864174893783075), &lt;hypothesis.core.Arc object at 0x10506db88&gt;, StructuralTag(label=12863218098193783802), &lt;hypothesis.core.Arc object at 0x10506dbc8&gt;, StructuralTag(label=6080154104293948592)})"><span title="hi" class="text">frozenset(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text"> = </span><span class="node" id="frozenset({&lt;hypothesis.core.Arc object at 0x10506dc08&gt;, &lt;hypothesis.core.Arc object at 0x10507a408&gt;, &lt;hypothesis.core.Arc object at 0x10506d848&gt;, &lt;hypothesis.core.Arc object at 0x10506dc48&gt;, &lt;hypothesis.core.Arc object at 0x10506d888&gt;, StructuralTag(label=6611492990206346368), &lt;hypothesis.core.Arc object at 0x10506d948&gt;, &lt;hypothesis.core.Arc object at 0x10506d988&gt;, &lt;hypothesis.core.Arc object at 0x10506d9c8&gt;, StructuralTag(label=7647621239500605823), StructuralTag(label=4549258227570135733), StructuralTag(label=6398413476957786987), &lt;hypothesis.core.Arc object at 0x10506da88&gt;, StructuralTag(label=10953678897638010412), &lt;hypothesis.core.Arc object at 0x10506dac8&gt;, StructuralTag(label=3729209777192900792), StructuralTag(label=14537950370913338056), StructuralTag(label=1590343644232068753), StructuralTag(label=15165864174893783075), &lt;hypothesis.core.Arc object at 0x10506db88&gt;, StructuralTag(label=12863218098193783802), &lt;hypothesis.core.Arc object at 0x10506dbc8&gt;, StructuralTag(label=6080154104293948592)})"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag_intern_table</span></span><span title="hi" class="text">.setdefault</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">tags</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">tags</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.VALID</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x10531af28&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text"> or
                    </span><span class="node" id="False"><span class="node" id="(3, b&#x27;\x01\x0c\xeb&#x27;)"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="(3, b&#x27;\x00\x00\x00&#x27;)"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                ):
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.save</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.delete</span></span><span title="hi" class="text">(
                                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tree_node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text"> in </span><span class="node" id="&lt;enumerate object at 0x1051d6f78&gt;"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.forced_indices</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.capped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.capped_indices</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tree_node</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="405"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tree_node</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tree_node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">:
            # This can happen if we hit a dead node when walking the buffer.
            # In that case we alrady have this section of the tree mapped.
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="3"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.block_sizes</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="1"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span><span title="hi" class="text">.update</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span></span><span title="hi" class="text">:]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.OVERRUN</span></span></span><span title="hi" class="text"> and </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> in </span><span class="node" id="&lt;list_reverseiterator object at 0x10538b7f0&gt;"><span title="hi" class="text">reversed(</span><span class="node" id="dunno"><span title="hi" class="text">indices</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="True"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="256"><span class="node" id="255"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.capped</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text"> and
                    </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span></span></span><span title="hi" class="text">
                ):
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">set(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.values</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">.issubset</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">key</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.interesting_origin</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">key</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrinks</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.downgrade_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.save_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">key</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrunk_examples</span></span><span title="hi" class="text">.discard</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">key</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrinks</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.max_shrinks</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.max_shrinks</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if (
            </span><span class="node" id="dunno"><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.timeout</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text"> and
            </span><span class="node" id="False"><span class="node" id="124375.217338925"><span title="hi" class="text">benchmark_time()</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="124435.0463149"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.start_time</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.timeout</span></span></span></span></span><span title="hi" class="text">
        ):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.timeout</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.max_examples</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.max_examples</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.call_count</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="1000"><span title="hi" class="text">max(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.max_iterations</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.max_examples</span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.max_iterations</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__tree_is_exhausted</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.finished</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.record_for_health_check</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def generate_novel_prefix(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> = </span><span class="node" id="bytearray(b&#x27;&#x27;)"><span title="hi" class="text">bytearray()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">upper_bound</span></span><span title="hi" class="text"> = </span><span class="node" id="256"><span class="node" id="255"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.capped</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="12"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.randrange</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">upper_bound</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">next_node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">next_node</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">choices</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
                        </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span title="hi" class="text">upper_bound</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
                        if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span></span><span title="hi" class="text">
                    ]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span title="hi" class="text">choices</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">choices</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">next_node</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x01\x0c&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def cap(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="4096"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span><span title="hi" class="text"> // </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def record_for_health_check(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        # Once we&#x27;ve actually found a bug, there&#x27;s no point in trying to run
        # health checks - they&#x27;ll just mask the actually important information.
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.draw_times</span></span><span title="hi" class="text">.extend</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.draw_times</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.VALID</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        elif </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INVALID</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.invalid_examples</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.OVERRUN</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.overrun_examples</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_valid_draws</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">10</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_invalid_draws</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">50</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">max_overrun_draws</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">20</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">max_valid_draws</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">max_valid_draws</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.overrun_examples</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">max_overrun_draws</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">fail_health_check(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Examples routinely exceeded the max allowable size. &#x27;
                &#x27;(%d examples overran while generating %d valid ones)&#x27;
                &#x27;. Generating examples this large will usually lead to&#x27;
                &#x27; bad results. You could try setting max_size parameters &#x27;
                &#x27;on your collections and turning &#x27;
                &#x27;max_leaves down on recursive() calls.&#x27;</span></span><span title="hi" class="text">) % (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.overrun_examples</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span></span><span title="hi" class="text">
            )</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HealthCheck</span></span><span title="hi" class="text">.data_too_large</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.invalid_examples</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">max_invalid_draws</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">fail_health_check(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;It looks like your strategy is filtering out a lot &#x27;
                &#x27;of data. Health check found %d filtered examples but &#x27;
                &#x27;only %d good ones. This will make your tests much &#x27;
                &#x27;slower, and also will probably distort the data &#x27;
                &#x27;generation quite a lot. You should adapt your &#x27;
                &#x27;strategy to filter less. This can also be caused by &#x27;
                &#x27;a low max_leaves parameter in recursive() calls&#x27;</span></span><span title="hi" class="text">) % (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.invalid_examples</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span></span><span title="hi" class="text">
            )</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HealthCheck</span></span><span title="hi" class="text">.filter_too_much</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">draw_time</span></span><span title="hi" class="text"> = </span><span class="node" id="0.0015723210090072826"><span title="hi" class="text">sum(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.draw_times</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">draw_time</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">1.0</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">fail_health_check(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Data generation is extremely slow: Only produced &#x27;
                &#x27;%d valid examples in %.2f seconds (%d invalid ones &#x27;
                &#x27;and %d exceeded maximum size). Try decreasing &#x27;
                &quot;size of the data you&#x27;re generating (with e.g.&quot;
                &#x27;max_size or max_leaves parameters).&#x27;</span></span><span title="hi" class="text">
            ) % (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_time</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.invalid_examples</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">state</span></span><span title="hi" class="text">.overrun_examples</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HealthCheck</span></span><span title="hi" class="text">.too_slow</span></span><span title="hi" class="text">,)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def save_buffer(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">key</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">key</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.save</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def downgrade_buffer(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.move</span></span><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.secondary_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def secondary_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;__main__.f.secondary&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b&#x27;.&#x27;</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b&#x27;secondary&#x27;</span></span></span><span title="hi" class="text">))</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def covering_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;__main__.f.coverage&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b&#x27;.&#x27;</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b&#x27;coverage&#x27;</span></span></span><span title="hi" class="text">))</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def note_details(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">runtime</span></span><span title="hi" class="text"> = </span><span class="node" id="0.0005998069973429665"><span title="hi" class="text">max(</span><span class="node" id="0.0005998069973429665"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.finish_time</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.start_time</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">0.0</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.all_runtimes</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">runtime</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.all_drawtimes</span></span><span title="hi" class="text">.extend</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.draw_times</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="[0.0014891750033712015, 0.0007115659973351285, 0.0006085749919293448, 0.0005853180045960471, 0.0006447750056395307, 0.0006174879963509738, 0.0006326699949568138, 0.0006426379986805841, 0.000579447005293332, 0.0006626300018979236, 0.0006646179972449318, 0.0007678690017201006, 0.001250806002644822, 0.0009911910019582137, 0.0008746069943299517, 0.0008028590091271326, 0.0007300559955183417, 0.0007011289999354631, 0.0005788900016341358, 0.0006971849943511188, 0.0006011009973008186, 0.0005977250111754984, 0.000658078002743423, 0.0006223499949555844, 0.0006626289978157729, 0.0006387610046658665, 0.0010636609949870035, 0.0006501570023829117, 0.0006653489981545135, 0.0006206480029504746, 0.0007042190118227154, 0.0006802160060033202, 0.0006537500012200326, 0.000648065994028002, 0.000628704990958795, 0.0006172749999677762, 0.000620960010564886, 0.0006535880092997104, 0.0006020529981469736, 0.0006182590004755184, 0.0006961570034036413, 0.0013850060058757663, 0.0009712399914860725, 0.0010265269957017154, 0.000852266006404534, 0.0007479780033463612, 0.0006634110031882301, 0.0006862190057290718, 0.0006635559984715655, 0.0006067789945518598, 0.000579333005589433, 0.0006032509991200641, 0.000641258986433968, 0.0006659029895672575, 0.0006014100072206929, 0.0005974280065856874, 0.0006649290007771924, 0.0007017479947535321, 0.0006931749958312139, 0.0006379249971359968, 0.0006217150075826794, 0.0006334009958663955, 0.000631208997219801, 0.0006822810100857168, 0.000647410997771658, 0.0006004010065225884, 0.0006318860105238855, 0.0007399960013572127, 0.0005871670000487939, 0.0006113759882282466, 0.0005944020085735247, 0.00061213799926918, 0.0006272140017244965, 0.000662153004668653, 0.0006949850067030638, 0.0006010489887557924, 0.0006065360066713765, 0.000611498995567672, 0.0013318460114533082, 0.001035606997902505, 0.0009604520018910989, 0.0007838610035832971, 0.0007342759927269071, 0.000716761001967825, 0.000823234993731603, 0.0006689010042464361, 0.0007022529898677021, 0.0006131489935796708, 0.0006875210092402995, 0.0006760440010111779, 0.0006105049978941679, 0.0006020550063112751, 0.0005791590083390474, 0.0006355399964377284, 0.0006903150060679764, 0.0006035699916537851, 0.0006007150077493861, 0.0006715350027661771, 0.0006300320092123002]"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.status_runtimes</span></span><span title="hi" class="text">.setdefault</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">runtime</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">event</span></span><span title="hi" class="text"> in </span><span class="node" id="set()"><span title="hi" class="text">set(</span><span class="node" id="&lt;map object at 0x10538b240&gt;"><span title="hi" class="text">map(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.event_to_string</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.events</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.event_call_counts</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">event</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def debug(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">message</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">with </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span title="hi" class="text">debug_report(</span><span class="node" id="dunno"><span title="hi" class="text">message</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def debug_data(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.verbosity</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Verbosity</span></span><span title="hi" class="text">.debug</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer_parts</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">u&quot;[&quot;</span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer_parts</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">u&quot; || &quot;</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer_parts</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u&#x27;, &#x27;</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">int_to_text(</span><span class="node" id="dunno"><span title="hi" class="text">int(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer_parts</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">u&#x27;]&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">status</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">unicode_safe_repr(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">status</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u&#x27;%s (%s)&#x27;</span></span><span title="hi" class="text"> % (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">status</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">unicode_safe_repr(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.interesting_origin</span></span><span title="hi" class="text">,)</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u&#x27;%d bytes %s -&gt; %s, %s&#x27;</span></span><span title="hi" class="text"> % (
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u&#x27;&#x27;</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer_parts</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">status</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.output</span></span><span title="hi" class="text">,</span></span><span title="hi" class="text">
        )</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def run(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">with </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">._run</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">RunIsComplete</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> in </span><span class="node" id="dict_values([])"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">.values</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug_data</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(
                </span><span class="node" id="&#x27;Run complete after 100 examples (100 valid) and 0 shrinks&#x27;"><span class="node" id="dunno"><span title="hi" class="text">u&#x27;Run complete after %d examples (%d valid) and %d shrinks&#x27;</span></span><span title="hi" class="text">
                % (</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.call_count</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.valid_examples</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrinks</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def _new_mutator(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">None</span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_new(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xeb&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_existing(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="1"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_smaller(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="2"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\xdf&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">r</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x02&#x27;"><span title="hi" class="text">_draw_predecessor(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_larger(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="5"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;po&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">r</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xfa&#x27;"><span title="hi" class="text">_draw_successor(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def reuse_existing(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">choices</span></span><span title="hi" class="text"> = </span><span class="node" id="[0]"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.block_starts</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">choices</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="0"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">choices</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x01&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">:</span><span class="node" id="1"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\\&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span title="hi" class="text">isinstance(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">hbytes</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def flip_bit(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text"> = </span><span class="node" id="bytearray(b&#x27;\x07\x07&#x27;)"><span title="hi" class="text">bytearray(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="5"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="1"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="1"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> = </span><span class="node" id="4"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">7</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> ^= (</span><span class="node" id="16"><span class="node" id="dunno"><span title="hi" class="text">1</span></span><span title="hi" class="text"> &lt;&lt; </span><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x07\x17&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_zero(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x00&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="b&#x27;\x00&#x27;"><span class="node" id="dunno"><span title="hi" class="text">b&#x27;\0&#x27;</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_max(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xff&#x27;"><span class="node" id="b&#x27;\xff&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_constant(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xce&#x27;"><span class="node" id="b&#x27;\xce&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="206"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def redraw_last(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="2"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="2"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x14&gt;&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">options</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
            </span><span class="node" id="dunno"><span title="hi" class="text">draw_new</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">redraw_last</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">redraw_last</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">reuse_existing</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">reuse_existing</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">draw_existing</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_smaller</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_larger</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">flip_bit</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">draw_zero</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_max</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_zero</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">draw_max</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">draw_constant</span></span><span title="hi" class="text">,
        ]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">bits</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
            </span><span class="node" id="&lt;function ConjectureRunner._new_mutator.&lt;locals&gt;.draw_new at 0x1050d56a8&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">options</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">_</span></span><span title="hi" class="text"> in </span><span class="node" id="range(0, 3)"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span title="hi" class="text">3</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        ]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">None</span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def mutate_from(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">origin</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">origin</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\x01\x0c&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.generate_novel_prefix</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">draw_mutated</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def draw_mutated(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="3"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text"> &gt; </span><span class="node" id="4"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target_data</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\xf8x\xe4i&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\xeb&#x27;"><span class="node" id="&lt;function ConjectureRunner._new_mutator.&lt;locals&gt;.draw_new at 0x1050d56a8&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">bits</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="2"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">start</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="2"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\x0c&#x27;"><span class="node" id="dunno"><span title="hi" class="text">start</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">[</span><span class="node" id="1"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">start</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:]</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xeb&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__zero_bound</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">mutate_from</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __rewrite(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__zero_bound</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __zero_bound(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;This tries to get the size of the generated data under control by
        replacing the result with zero if we are too deep or have already
        generated too much data.

        This causes us to enter &quot;shrinking mode&quot; there and thus reduce
        the size of the generated data.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial</span></span><span title="hi" class="text"> = </span><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="22"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.depth</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">MAX_DEPTH</span></span></span><span title="hi" class="text"> or </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.forced_indices</span></span><span title="hi" class="text">.update</span></span><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.hit_zero_bound</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        elif </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="3"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.hit_zero_bound</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.forced_indices</span></span><span title="hi" class="text">.update</span></span><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cap</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">)</span></span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def database(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def has_existing_examples(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return (
            </span><span class="node" id="dunno"><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text"> and
            </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Phase</span></span><span title="hi" class="text">.reuse</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.phases</span></span></span></span><span title="hi" class="text">
        )</span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def reuse_existing_examples(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;If appropriate (we have a database and have been told to use it),
        try to reload existing examples from the database.

        If there are a lot we don&#x27;t try all of them. We always try the
        smallest example in the database (which is guaranteed to be the
        last failure) and the largest (which is usually the seed example
        which the last failure came from but we don&#x27;t enforce that). We
        then take a random sampling of the remainder and try those. Any
        examples that are no longer interesting are cleared out.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.has_existing_examples</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Reusing examples from database&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            # We have to do some careful juggling here. We have two database
            # corpora: The primary and secondary. The primary corpus is a
            # small set of minimized examples each of which has at one point
            # demonstrated a distinct bug. We want to retry all of these.

            # We also have a secondary corpus of examples that have at some
            # point demonstrated interestingness (currently only ones that
            # were previously non-minimal examples of a bug, but this will
            # likely expand in future). These are a good source of potentially
            # interesting examples, but there are a lot of them, so we down
            # sample the secondary corpus to a more manageable size.

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text"> = </span><span class="node" id="[]"><span title="hi" class="text">sorted(
                </span><span class="node" id="&lt;generator object DirectoryBasedExampleDatabase.fetch at 0x104b4c258&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.fetch</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">sort_key</span></span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">desired_size</span></span><span title="hi" class="text"> = </span><span class="node" id="10"><span title="hi" class="text">max(</span><span class="node" id="dunno"><span title="hi" class="text">2</span></span><span title="hi" class="text">, </span><span class="node" id="10"><span title="hi" class="text">ceil(</span><span class="node" id="10.0"><span class="node" id="dunno"><span title="hi" class="text">0.1</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.max_examples</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">extra_key</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.secondary_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_key</span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="0"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">desired_size</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">extra_corpus</span></span><span title="hi" class="text"> = </span><span class="node" id="[b&#x27;\x00\x00\x00&#x27;]"><span title="hi" class="text">list(
                        </span><span class="node" id="&lt;generator object DirectoryBasedExampleDatabase.fetch at 0x104b4c258&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.fetch</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">extra_key</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
                    )</span></span></span><span title="hi" class="text">

                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shortfall</span></span><span title="hi" class="text"> = </span><span class="node" id="10"><span class="node" id="dunno"><span title="hi" class="text">desired_size</span></span><span title="hi" class="text"> - </span><span class="node" id="0"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">extra_corpus</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">shortfall</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">extra</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">extra_corpus</span></span></span><span title="hi" class="text">
                    else:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">extra</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.sample</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">extra_corpus</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">shortfall</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">extra</span></span><span title="hi" class="text">.sort</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">sort_key</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">.extend</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">extra</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.used_examples_from_database</span></span><span title="hi" class="text"> = </span><span class="node" id="True"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x10531af28&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ConjectureData</span></span><span title="hi" class="text">.for_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">try:
                    </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                finally:
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.delete</span></span><span title="hi" class="text">(
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.database_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.delete</span></span><span title="hi" class="text">(
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.secondary_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">existing</span></span><span title="hi" class="text">)</span></span></span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def exit_with(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">reason</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_reason</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">reason</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">raise </span><span class="node" id="RunIsComplete()"><span title="hi" class="text">RunIsComplete()</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def generate_new_examples(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Phase</span></span><span title="hi" class="text">.generate</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.phases</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_data</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x10531af28&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(
            </span><span class="node" id="b&#x27;\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.OVERRUN</span></span></span><span title="hi" class="text"> or (
            </span><span class="node" id="dunno"><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.VALID</span></span></span><span title="hi" class="text"> and
            </span><span class="node" id="False"><span class="node" id="6"><span class="node" id="3"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span></span></span><span title="hi" class="text">
        )</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">fail_health_check(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;The smallest natural example for your test is extremely &#x27;
                &#x27;large. This makes it difficult for Hypothesis to generate &#x27;
                &#x27;good examples, especially when trying to reduce failing ones &#x27;
                &#x27;at the end. Consider reducing the size of your data if it is &#x27;
                &#x27;of a fixed size. You could also fix this by improving how &#x27;
                &#x27;your data shrinks (see https://hypothesis.readthedocs.io/en/&#x27;
                &#x27;latest/data.html#shrinking for details), or by introducing &#x27;
                &#x27;default values inside your strategy. e.g. could you replace &#x27;
                &#x27;some arguments with their defaults by using &#x27;
                &#x27;one_of(none(), some_complex_strategy)?&#x27;</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">HealthCheck</span></span><span title="hi" class="text">.large_base_example</span></span><span title="hi" class="text">
            )</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.perform_health_check</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span><span title="hi" class="text"> = </span><span class="node" id="HealthCheckState(valid_examples=0, invalid_examples=0, overrun_examples=0, draw_times=[])"><span title="hi" class="text">HealthCheckState()</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span></span><span title="hi" class="text"> and (
            </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">10</span></span></span><span title="hi" class="text"> or </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.health_check_state</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span></span><span title="hi" class="text">
        )</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\x07&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.generate_novel_prefix</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">def draw_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="1"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> += </span><span class="node" id="b&#x27;\t&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="1"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> - </span><span class="node" id="1"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="b&#x27;\x91&#x27;"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x91&#x27;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__zero_bound</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">targets_found</span></span><span title="hi" class="text"> = </span><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x104b526a0&gt;"><span title="hi" class="text">ConjectureData(
                </span><span class="node" id="dunno"><span title="hi" class="text">max_length=</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">draw_bytes=</span><span class="node" id="dunno"><span title="hi" class="text">draw_bytes</span></span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last_data</span></span><span title="hi" class="text">.freeze</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">targets_found</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutator</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;function ConjectureRunner._new_mutator.&lt;locals&gt;.mutate_from at 0x10531e488&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">._new_mutator</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_bound_queue</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">zero_bound_queue</span></span><span title="hi" class="text">:
                # Whenever we generated an example and it hits a bound
                # which forces zero blocks into it, this creates a weird
                # distortion effect by making certain parts of the data
                # stream (especially ones to the right) much more likely
                # to be zero. We fix this by redistributing the generated
                # data by shuffling it randomly. This results in the
                # zero data being spread evenly throughout the buffer.
                # Hopefully the shrinking this causes will cause us to
                # naturally fail to hit the bound.
                # If it doesn&#x27;t then we will queue the new version up again
                # (now with more zeros) and try again.
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">overdrawn</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_bound_queue</span></span><span title="hi" class="text">.pop</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">overdrawn</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

                # These will have values written to them that are different
                # from what&#x27;s in them anyway, so the value there doesn&#x27;t
                # really &quot;count&quot; for distributional purposes, and if we
                # leave them in then they can cause the fraction of non
                # zero bytes to increase on redraw instead of decrease.
                </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">overdrawn</span></span><span title="hi" class="text">.forced_indices</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span><span title="hi" class="text">

                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.shuffle</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

                </span><span class="node" id="dunno"><span title="hi" class="text">def draw_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.index</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__rewrite</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">ConjectureData(
                    </span><span class="node" id="dunno"><span title="hi" class="text">draw_bytes=</span><span class="node" id="dunno"><span title="hi" class="text">draw_bytes</span></span></span><span title="hi" class="text">,
                    </span><span class="node" id="dunno"><span title="hi" class="text">max_length=</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span></span><span title="hi" class="text">,
                )</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.freeze</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">origin</span></span></span><span title="hi" class="text"> = </span><span class="node" id="(&lt;hypothesis.core.Arc object at 0x10506d988&gt;, &lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x104b52978&gt;)"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.target_selector</span></span><span title="hi" class="text">.select</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">targets_found</span></span><span title="hi" class="text"> = </span><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x10538b748&gt;"><span title="hi" class="text">ConjectureData(
                    </span><span class="node" id="dunno"><span title="hi" class="text">draw_bytes=</span><span class="node" id="&lt;function ConjectureRunner._new_mutator.&lt;locals&gt;.draw_mutated at 0x10531e400&gt;"><span title="hi" class="text">mutator(</span><span class="node" id="dunno"><span title="hi" class="text">origin</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">,
                    </span><span class="node" id="dunno"><span title="hi" class="text">max_length=</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span></span><span title="hi" class="text">
                )</span></span></span><span title="hi" class="text">
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.freeze</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">origin</span></span><span title="hi" class="text">.status</span></span></span><span title="hi" class="text"> or
                    </span><span class="node" id="False"><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.covering_examples</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">targets_found</span></span></span></span><span title="hi" class="text">
                ):
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
                elif </span><span class="node" id="dunno"><span title="hi" class="text">(
                    </span><span class="node" id="dunno"><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">origin</span></span><span title="hi" class="text">.status</span></span></span><span title="hi" class="text"> or
                    </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.target_selector</span></span><span title="hi" class="text">.has_tag</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> or
                    </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">10</span></span></span></span><span title="hi" class="text">
                ):
                    # Cap the variations of a single example and move on to
                    # an entirely fresh start.  Ten is an entirely arbitrary
                    # constant, but it&#x27;s been working well for years.
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutator</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;function ConjectureRunner._new_mutator.&lt;locals&gt;.mutate_from at 0x10531e598&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">._new_mutator</span></span><span title="hi" class="text">()</span></span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span title="hi" class="text">getattr(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;hit_zero_bound&#x27;</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">zero_bound_queue</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mutations</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def _run(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.start_time</span></span><span title="hi" class="text"> = </span><span class="node" id="124375.0463149"><span title="hi" class="text">benchmark_time()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.reuse_existing_examples</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.generate_new_examples</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_interesting_examples</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.finished</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def shrink_interesting_examples(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;If we&#x27;ve found interesting examples, try to replace each of them
        with a minimal interesting example with the same interesting_origin.

        We may find one or more examples with a new interesting_origin
        during the shrink process. If so we shrink these too.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if (
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Phase</span></span><span title="hi" class="text">.shrink</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.phases</span></span></span><span title="hi" class="text"> or
            </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span></span></span><span title="hi" class="text">
        ):
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">prev_data</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">sorted(
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">.values</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">d</span></span></span><span title="hi" class="text">: </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">d</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        )</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ConjectureData</span></span><span title="hi" class="text">.for_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev_data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.exit_with</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ExitReason</span></span><span title="hi" class="text">.flaky</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.clear_secondary_key</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrunk_examples</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">example</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">[
                (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">) </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">.items</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">
                if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrunk_examples</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">kv</span></span></span><span title="hi" class="text">: (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">kv</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span title="hi" class="text">repr(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">kv</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">,
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&#x27;Shrinking %r&#x27;</span></span><span title="hi" class="text"> % (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">,</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">def predicate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">d</span></span></span><span title="hi" class="text">):
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">d</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">d</span></span><span title="hi" class="text">.interesting_origin</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">target</span></span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">example</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrunk_examples</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def clear_secondary_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.has_existing_examples</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">:
            # If we have any smaller examples in the secondary corpus, now is
            # a good time to try them to see if they work as shrinks. They
            # probably won&#x27;t, but it&#x27;s worth a shot and gives us a good
            # opportunity to clear out the database.

            # It&#x27;s not worth trying the primary corpus because we already
            # tried all of those in the initial phase.
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">sorted(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.fetch</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.secondary_key</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">sort_key</span></span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">cap</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">max(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">.values</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">corpus</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">cap</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text"> or
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interesting_examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.interesting_origin</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">
                        is not </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span></span><span title="hi" class="text">
                    ):
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.database</span></span><span title="hi" class="text">.delete</span></span><span title="hi" class="text">(
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.secondary_key</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def shrink(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">example</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">s</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.new_shrinker</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">example</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">s</span></span><span title="hi" class="text">.shrink</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">s</span></span><span title="hi" class="text">.shrink_target</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def new_shrinker(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">example</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">Shrinker(</span><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">example</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def prescreen_buffer(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to rule out buffer as a possible interesting candidate.

        Returns False if we know for sure that running this buffer will not
        produce an interesting result. Returns True if it might (because it
        explores territory we have not previously tried).

        This is purely an optimisation to try to reduce the number of tests we
        run. &quot;return True&quot; would be a valid but inefficient implementation.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.dead</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                # The block size at that point provides a lower bound on how
                # many more bytes are required. If the buffer does not have
                # enough bytes to fulfill that block size then we can rule out
                # this buffer.
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.block_sizes</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.capped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def cached_test_function(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="range(0, 8192)"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.settings</span></span><span title="hi" class="text">.buffer_size</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.forced</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="8192"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">try:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tree</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">node_index</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span title="hi" class="text">isinstance(</span><span class="node" id="dunno"><span title="hi" class="text">node</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">ConjectureData</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">node</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ConjectureData</span></span><span title="hi" class="text">.for_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def event_to_string(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">event</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">isinstance(</span><span class="node" id="dunno"><span title="hi" class="text">event</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">str</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">event</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">try:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.events_to_strings</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">event</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">str(</span><span class="node" id="dunno"><span title="hi" class="text">event</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.events_to_strings</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">event</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">def _draw_predecessor(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">xs</span></span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> = </span><span class="node" id="bytearray(b&#x27;&#x27;)"><span title="hi" class="text">bytearray()</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">x</span></span><span title="hi" class="text"> in </span><span class="node" id="b&#x27;\x06&#x27;"><span title="hi" class="text">to_bytes_sequence(</span><span class="node" id="dunno"><span title="hi" class="text">xs</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="2"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">x</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">x</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\x02&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">def _draw_successor(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">xs</span></span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> = </span><span class="node" id="bytearray(b&#x27;&#x27;)"><span title="hi" class="text">bytearray()</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">x</span></span><span title="hi" class="text"> in </span><span class="node" id="b&#x27;\xf5&#x27;"><span title="hi" class="text">to_bytes_sequence(</span><span class="node" id="dunno"><span title="hi" class="text">xs</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="250"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">x</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">x</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">any_strict</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">rnd</span></span><span title="hi" class="text">.randint</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">255</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xfa&#x27;"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">def sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span title="hi" class="text">return (</span><span class="node" id="dunno"><span class="node" id="3"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">def uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="b&#x27;\xeb&#x27;"><span title="hi" class="text">int_to_bytes(</span><span class="node" id="235"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">random</span></span><span title="hi" class="text">.getrandbits</span></span><span title="hi" class="text">(</span><span class="node" id="8"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">8</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class SampleSet(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Set data type with the ability to sample uniformly at random from it.

    The mechanism is that we store the set in two parts: A mapping of
    values to their index in an array. Sampling uniformly at random then
    becomes simply a matter of sampling from the array, but we can use
    the index for efficient lookup to add and remove values.
    &quot;&quot;&quot;</span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">__slots__</span></span><span title="hi" class="text"> = (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&#x27;__values&#x27;</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">&#x27;__index&#x27;</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __init__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__index</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __len__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __repr__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&#x27;SampleSet(%r)&#x27;</span></span><span title="hi" class="text"> % (</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">,</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def add(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">value</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">value</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__index</span></span></span></span><span title="hi" class="text">
        # Adding simply consists of adding the value to the end of the array
        # and updating the index.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__index</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">value</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">value</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def remove(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">value</span></span></span><span title="hi" class="text">):
        # To remove a value we first remove it from the index. But this leaves
        # us with the value still in the array, so we have to fix that. We
        # can&#x27;t simply remove the value from the array, as that would a) Be an
        # O(n) operation and b) Leave the index completely wrong for every
        # value after that index.
        # So what we do is we take the last element of the array and place it
        # in the position of the value we just deleted (if the value was not
        # already the last element of the array. If it was then we don&#x27;t have
        # to do anything extra). This reorders the array, but that&#x27;s OK because
        # we don&#x27;t care about its order, we just need to sample from it.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="0"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__index</span></span><span title="hi" class="text">.pop</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">value</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last</span></span><span title="hi" class="text"> = </span><span class="node" id="StructuralTag(label=6080154104293948592)"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">.pop</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="0"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">last</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__index</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">last</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def choice(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">random</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="&lt;hypothesis.core.Arc object at 0x10506d988&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__values</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class Negated(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">__slots__</span></span><span title="hi" class="text"> = (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&#x27;tag&#x27;</span></span><span title="hi" class="text">,</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __init__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">NEGATED_CACHE</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">def negated(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span title="hi" class="text">try:
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">NEGATED_CACHE</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
    </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.engine.Negated object at 0x1050d4948&gt;"><span title="hi" class="text">Negated(</span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">NEGATED_CACHE</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">universal</span></span><span title="hi" class="text"> = </span><span class="node" id="universal"><span title="hi" class="text">UniqueIdentifier(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;universal&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class TargetSelector(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Data structure for selecting targets to use for mutation.

    The goal is to do a good job of exploiting novelty in examples without
    getting too obsessed with any particular novel factor.

    Roughly speaking what we want to do is give each distinct coverage target
    equal amounts of time. However some coverage targets may be harder to fuzz
    than others, or may only appear in a very small minority of examples, so we
    don&#x27;t want to let those dominate the testing.

    Targets are selected according to the following rules:

    1. We ideally want valid examples as our starting point. We ignore
       interesting examples entirely, and other than that we restrict ourselves
       to the best example status we&#x27;ve seen so far. If we&#x27;ve only seen
       OVERRUN examples we use those. If we&#x27;ve seen INVALID but not VALID
       examples we use those. Otherwise we use VALID examples.
    2. Among the examples we&#x27;ve seen with the right status, when asked to
       select a target, we select a coverage target and return that along with
       an example exhibiting that target uniformly at random.

    Coverage target selection proceeds as follows:

    1. Whenever we return an example from select, we update the usage count of
       each of its tags.
    2. Whenever we see an example, we add it to the list of examples for all of
       its tags.
    3. When selecting a tag, we select one with a minimal usage count. Among
       those of minimal usage count we select one with the fewest examples.
       Among those, we select one uniformly at random.

    This has the following desirable properties:

    1. When two coverage targets are intrinsically linked (e.g. when you have
       multiple lines in a conditional so that either all or none of them will
       be covered in a conditional) they are naturally deduplicated.
    2. Popular coverage targets will largely be ignored for considering what
       test to run - if every example exhibits a coverage target, picking an
       example because of that target is rather pointless.
    3. When we discover new coverage targets we immediately exploit them until
       we get to the point where we&#x27;ve spent about as much time on them as the
       existing targets.
    4. Among the interesting deduplicated coverage targets we essentially
       round-robin between them, but with a more consistent distribution than
       uniformly at random, which is important particularly for short runs.
    &quot;&quot;&quot;</span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __init__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">random</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">random</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.best_status</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.OVERRUN</span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.reset</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def reset(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text"> = </span><span class="node" id="defaultdict(&lt;class &#x27;list&#x27;&gt;, {})"><span title="hi" class="text">defaultdict(</span><span class="node" id="dunno"><span title="hi" class="text">list</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag_usage_counts</span></span><span title="hi" class="text"> = </span><span class="node" id="Counter()"><span title="hi" class="text">Counter()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_by_score</span></span><span title="hi" class="text"> = </span><span class="node" id="defaultdict(&lt;class &#x27;hypothesis.internal.conjecture.engine.SampleSet&#x27;&gt;, {})"><span title="hi" class="text">defaultdict(</span><span class="node" id="dunno"><span title="hi" class="text">SampleSet</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores_by_tag</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.mutation_counts</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.example_counts</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.non_universal_tags</span></span><span title="hi" class="text"> = </span><span class="node" id="set()"><span title="hi" class="text">set()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.universal_tags</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def add(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.best_status</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.best_status</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.best_status</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.status</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.reset</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.universal_tags</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.universal_tags</span></span><span title="hi" class="text"> = </span><span class="node" id="{&lt;hypothesis.core.Arc object at 0x10506dc08&gt;, &lt;hypothesis.core.Arc object at 0x10507a408&gt;, &lt;hypothesis.core.Arc object at 0x10506d848&gt;, &lt;hypothesis.core.Arc object at 0x10506dc48&gt;, &lt;hypothesis.core.Arc object at 0x10506d888&gt;, StructuralTag(label=6611492990206346368), &lt;hypothesis.core.Arc object at 0x10506d948&gt;, &lt;hypothesis.core.Arc object at 0x10506d988&gt;, &lt;hypothesis.core.Arc object at 0x10506d9c8&gt;, StructuralTag(label=7647621239500605823), StructuralTag(label=4549258227570135733), StructuralTag(label=6398413476957786987), &lt;hypothesis.core.Arc object at 0x10506da88&gt;, StructuralTag(label=10953678897638010412), &lt;hypothesis.core.Arc object at 0x10506dac8&gt;, StructuralTag(label=3729209777192900792), StructuralTag(label=14537950370913338056), StructuralTag(label=1590343644232068753), StructuralTag(label=15165864174893783075), &lt;hypothesis.core.Arc object at 0x10506db88&gt;, StructuralTag(label=12863218098193783802), &lt;hypothesis.core.Arc object at 0x10506dbc8&gt;, StructuralTag(label=6080154104293948592)}"><span title="hi" class="text">set(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not_actually_universal</span></span><span title="hi" class="text"> = </span><span class="node" id="set()"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.universal_tags</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">not_actually_universal</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.universal_tags</span></span><span title="hi" class="text">.remove</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.non_universal_tags</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">list(
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">universal</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">
                )</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_tags</span></span><span title="hi" class="text"> = </span><span class="node" id="set()"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.non_universal_tags</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">new_tags</span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.non_universal_tags</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="&lt;hypothesis.internal.conjecture.engine.Negated object at 0x1050d4948&gt;"><span class="node" id="&lt;hypothesis.internal.conjecture.engine.Negated object at 0x1050d4948&gt;"><span title="hi" class="text">negated(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="[]"><span title="hi" class="text">list(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">universal</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">
            )</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.example_counts</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="&lt;generator object TargetSelector.tags_for at 0x104b4c990&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_for</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.rescore</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def has_tag(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">universal</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span title="hi" class="text">isinstance(</span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">Negated</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">.tag</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="True"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def tags_for(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">yield </span><span class="node" id="dunno"><span title="hi" class="text">universal</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">yield </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.non_universal_tags</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.tags</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">yield </span><span class="node" id="dunno"><span title="hi" class="text">negated(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def rescore(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_score</span></span><span title="hi" class="text"> = (
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag_usage_counts</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">, </span><span class="node" id="100"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">try:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">old_score</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores_by_tag</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_by_score</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">old_score</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.remove</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores_by_tag</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">tag</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">new_score</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_by_score</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_score</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="23"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">heapq</span></span><span title="hi" class="text">.heappush</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">new_score</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">tag</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def select_tag(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">peek</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_by_score</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">peek</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="False"><span class="node" id="24"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="(88, 98)"><span class="node" id="(88, 98)"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">heapq</span></span><span title="hi" class="text">.heappop</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.scores</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="&lt;hypothesis.core.Arc object at 0x10506d988&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sample</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">)</span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def select_example_for_tag(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x104b52978&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">.choice</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.examples_by_tags</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def select(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.core.Arc object at 0x10506d988&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.select_tag</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.mutation_counts</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="&lt;hypothesis.internal.conjecture.data.ConjectureData object at 0x104b52978&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.select_example_for_tag</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="True"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.has_tag</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">s</span></span><span title="hi" class="text"> in </span><span class="node" id="&lt;generator object TargetSelector.tags_for at 0x104b4c990&gt;"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tags_for</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.tag_usage_counts</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">s</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
            </span><span class="node" id="None"><span class="node" id="None"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.rescore</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">s</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span></span></span><span title="hi" class="text">


</span><span class="node" id="dunno"><span title="hi" class="text">class Shrinker(</span><span class="node" id="dunno"><span title="hi" class="text">object</span></span><span title="hi" class="text">):
    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;A shrinker is a child object of a ConjectureRunner which is designed to
    manage the associated state of a particular shrink problem.

    Currently the only shrink problem we care about is &quot;interesting and with a
    particular interesting_origin&quot;, but this is abstracted into a general
    purpose predicate for more flexibility later - e.g. we are likely to want
    to shrink with respect to a particular coverage target later.

    Data with a status &lt; VALID may be assumed not to satisfy the predicate.

    The expected usage pattern is that this is only ever called from within the
    engine.
    &quot;&quot;&quot;</span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def __init__(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">engine</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Create a shrinker for a particular engine, with a given starting
        point and predicate. When shrink() is called it will attempt to find an
        example for which predicate is True and which is strictly smaller than
        initial.

        Note that initial is a ConjectureData object, and predicate
        takes ConjectureData objects.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">engine</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__predicate</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">predicate</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__discarding_failed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_prefixes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">set()</span></span></span><span title="hi" class="text">

        # We keep track of the current best example on the shrink_target
        # attribute.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.update_shrink_target</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">initial</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def incorporate_new_buffer(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.index</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">.startswith</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.prescreen_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ConjectureData</span></span><span title="hi" class="text">.for_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_test_data</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def incorporate_test_data(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">data</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if (
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__predicate</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> and
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        ):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.update_shrink_target</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">data</span></span><span title="hi" class="text">.has_discards</span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__discarding_failed</span></span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.remove_discarded</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def cached_test_function(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_test_data</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">result</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">result</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def debug(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">msg</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">msg</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def shrink(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Run the full set of shrinks and update shrink_target.

        This method is &quot;mostly idempotent&quot; - calling it twice is unlikely to
        have any effect, though it has a non-zero probability of doing so.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        # We assume that if an all-zero block of bytes is an interesting
        # example then we&#x27;re not going to do better than that.
        # This might not technically be true: e.g. for integers() | booleans()
        # the simplest example is actually [1, 0]. Missing this case is fairly
        # harmless and this allows us to make various simplifying assumptions
        # about the structure of the data (principally that we&#x27;re never
        # operating on a block of all zero bytes so can use non-zeroness as a
        # signpost of complexity).
        </span><span class="node" id="dunno"><span title="hi" class="text">if (
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">any(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> or
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        ):
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.greedy_shrink</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.escape_local_minimum</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def greedy_shrink(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Run a full set of greedy shrinks (that is, ones that will only ever
        move to a better target) and update shrink_target appropriately.

        This method iterates to a fixed point and so is idempontent - calling
        it twice will have exactly the same effect as calling it once.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">run_expensive_shrinks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">

            # We reset our tracking of what changed at the beginning of the
            # loop so that we don&#x27;t get distracted by things that change once
            # and then are stable thereafter.
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.clear_change_tracking</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.remove_discarded</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.adaptive_example_deletion</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.zero_draws</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.minimize_duplicated_blocks</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.minimize_individual_blocks</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.reorder_blocks</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.lower_dependent_block_pairs</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.lower_common_block_offset</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">

            # Passes after this point are expensive: Prior to here they should
            # all involve no more than about n log(n) shrinks, but after here
            # they may be quadratic or worse. Running all of the passes until
            # they make no changes is important for correctness, but nothing
            # says we have to run all of them on each run! So if the fast
            # passes still seem to be making useful changes, we restart the
            # loop here and give them another go.
            # To avoid the case where the expensive shrinks unlock a trivial
            # change in one of the previous passes causing this to become much
            # more expensive by doubling the number of times we have to run
            # them to get to run the expensive passes again, we make this
            # decision &quot;sticky&quot; - once it&#x27;s been useful to run the expensive
            # changes at least once, we always run them.
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">run_expensive_shrinks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">run_expensive_shrinks</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_offset_pairs</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.interval_deletion_with_block_lowering</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.pass_to_interval</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.reorder_bytes</span></span><span title="hi" class="text">()</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def blocks(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.blocks</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">@</span><span class="node" id="dunno"><span title="hi" class="text">property</span></span><span title="hi" class="text">
    def intervals(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__intervals</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">set(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.index</span></span></span><span title="hi" class="text">))</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text">.update</span></span><span title="hi" class="text">(
                </span><span class="node" id="dunno"><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">) </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">
                if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span></span></span><span title="hi" class="text">
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals_by_level</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals_by_level</span></span><span title="hi" class="text">.setdefault</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.depth</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">l</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals_by_level</span></span><span title="hi" class="text">.values</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e1</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">e2</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">zip(</span><span class="node" id="dunno"><span title="hi" class="text">l</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">l</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">:]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">if (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not (</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e1</span></span><span title="hi" class="text">.discarded</span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e2</span></span><span title="hi" class="text">.discarded</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> and
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e1</span></span><span title="hi" class="text">.end</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e2</span></span><span title="hi" class="text">.start</span></span></span></span><span title="hi" class="text">
                    ):
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e1</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">e2</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">))</span></span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">))</span></span></span></span><span title="hi" class="text">
            # Intervals are sorted as longest first, then by interval start.
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__intervals</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">tuple(</span><span class="node" id="dunno"><span title="hi" class="text">sorted(
                </span><span class="node" id="dunno"><span title="hi" class="text">set(</span><span class="node" id="dunno"><span title="hi" class="text">intervals</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">se</span></span></span><span title="hi" class="text">: (</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">se</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">se</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">se</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            )</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__intervals</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def zero_draws(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to replace each draw call with its minimal possible value.

        This is intended as a fast-track to minimize whole sub-examples that
        don&#x27;t matter as rapidly as possible. For example, suppose we had
        something like the following:

        ls = data.draw(st.lists(st.lists(st.integers())))
        assert len(ls) &gt;= 10

        Then each of the elements of ls need to be minimized, and we can do
        that by deleting individual values from them, but we&#x27;d much rather do
        it fast rather than slow - deleting elements one at a time takes
        sum(map(len, ls)) shrinks, and ideally we&#x27;d do this in len(ls) shrinks
        as we try to replace each element with [].

        This pass does that by identifying the size of the &quot;natural smallest&quot;
        element here. It first tries replacing an entire interval with zero.
        This will sometimes work (e.g. when the interval is a block), but often
        what will happen is that there will be leftover zeros that spill over
        into the next example and ruin things - e.g. here if ls[0] is non-empty
        and we replace it with all zero, some of the extra zeros will be
        interpreted as terminating ls and will shrink it down to a one element
        list, causing the test to pass.

        So what we do instead is that once we&#x27;ve evaluated that shrink, we use
        the size of the intervals there to find other possible sizes that we
        could try replacing the interval with. In this case we&#x27;d spot that
        there is a one-byte interval starting at right place for ls[i] and try
        to replace it with that. This will successfully replace ls[i] with []
        as desired.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">any(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">suffix</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">:]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">suffix</span></span></span><span title="hi" class="text">
                )</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.VALID</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">replacement</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">replacement</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">replacement</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.length</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">replacement</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">suffix</span></span></span><span title="hi" class="text">
                        )</span></span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def pass_to_interval(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to replace each interval with a subinterval.

        This is designed to deal with strategies that call themselves
        recursively. For example, suppose we had:

        binary_tree = st.deferred(
            lambda: st.one_of(
                st.integers(), st.tuples(binary_tree, binary_tree)))

        This pass guarantees that we can replace any binary tree with one of
        its subtrees - each of those will create an interval that the parent
        could validly be replaced with, and this pass will try doing that.

        This is pretty expensive - it takes O(len(intervals)^2) - so we run it
        late in the process when we&#x27;ve got the number of intervals as far down
        as possible.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">child</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">child</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">child</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.length</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">child</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">child</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text"> +
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">:]</span></span></span><span title="hi" class="text">
                    )</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def is_shrinking_block(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Checks whether block i has been previously marked as a shrinking
        block.

        If the shrink target has changed since i was last checked, will
        attempt to calculate if an equivalent block in a previous shrink
        target was marked as shrinking.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_prefixes</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">try:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">except </span><span class="node" id="dunno"><span title="hi" class="text">KeyError</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">pass</span></span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text">.setdefault</span></span><span title="hi" class="text">(
            </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">,
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_prefixes</span></span></span><span title="hi" class="text">
        )</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def lower_common_block_offset(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Sometimes we find ourselves in a situation where changes to one part
        of the byte stream unlock changes to other parts. Sometimes this is
        good, but sometimes this can cause us to exhibit exponential slow
        downs!

        e.g. suppose we had the following:

        m = draw(integers(min_value=0))
        n = draw(integers(min_value=0))
        assert abs(m - n) &gt; 1

        If this fails then we&#x27;ll end up with a loop where on each iteration we
        reduce each of m and n by 2 - m can&#x27;t go lower because of n, then n
        can&#x27;t go lower because of m.

        This will take us O(m) iterations to complete, which is exponential in
        the data size, as we gradually zig zag our way towards zero.

        This can only happen if we&#x27;re failing to reduce the size of the byte
        stream: The number of iterations that reduce the length of the byte
        stream is bounded by that length.

        So what we do is this: We keep track of which blocks are changing, and
        then if there&#x27;s some non-zero common offset to them we try and minimize
        them all at once by lowering that offset.

        This may not work, and it definitely won&#x27;t get us out of all possible
        exponential slow downs (an example of where it doesn&#x27;t is where the
        shape of the blocks changes as a result of this bouncing behaviour),
        but it fails fast when it doesn&#x27;t work and gets us out of a really
        nastily slow case when it does.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Removing common block offset&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocked</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text">.blocks</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">sorted(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ints</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">int_from_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocked</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">offset</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">ints</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">offset</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">ints</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ints</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> -= </span><span class="node" id="dunno"><span title="hi" class="text">offset</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def reoffset(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">o</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">list(</span><span class="node" id="dunno"><span title="hi" class="text">blocked</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">zip(</span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">ints</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_to_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">o</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocked</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hbytes()</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">minimize_int(</span><span class="node" id="dunno"><span title="hi" class="text">offset</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">reoffset</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def shrink_offset_pairs(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Lower any two blocks offset from each other the same ammount.

        Before this shrink pass, two blocks explicitly offset from each
        other would not get minimized properly:
         &gt;&gt;&gt; b = st.integers(0, 255)
         &gt;&gt;&gt; find(st.tuples(b, b), lambda x: x[0] == x[1] + 1)
        (149,148)

        This expensive (O(n^2)) pass goes through every pair of non-zero
        blocks in the current shrink target and sees if the shrink
        target can be improved by applying an offset to both of them.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Shrinking offset pairs.&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def int_from_block(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">int_from_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def block_len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span></span></span><span title="hi" class="text">

        # Try reoffseting every pair
        </span><span class="node" id="dunno"><span title="hi" class="text">def reoffset_pair(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">pair</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">o</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            # Number of blocks may have changed, need to validate
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">valid_pair</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">pair</span></span><span title="hi" class="text"> if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">valid_pair</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">m</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">p</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">valid_pair</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">
                          </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">valid_pair</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_to_bytes(
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">o</span></span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">m</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">block_len(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hbytes()</span></span><span title="hi" class="text">.join</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">new_blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.is_shrinking_block</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">block_val</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i_block_val</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.is_shrinking_block</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> \
                       and </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">block_val</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i_block_val</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">offset</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">,
                                     </span><span class="node" id="dunno"><span title="hi" class="text">int_from_block(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                        # Save current before shrinking
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">
                                   </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">minimize_int(
                            </span><span class="node" id="dunno"><span title="hi" class="text">offset</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">o</span></span></span><span title="hi" class="text">: </span><span class="node" id="dunno"><span title="hi" class="text">reoffset_pair((</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">), </span><span class="node" id="dunno"><span title="hi" class="text">o</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def mark_shrinking(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Mark each of these blocks as a shrinking block: That is, lowering
        its value lexicographically may cause less data to be drawn after.&quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">t</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_prefixes</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">prefix</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def clear_change_tracking(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text">.clear</span></span><span title="hi" class="text">()</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def update_shrink_target(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">new_target</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_target</span></span><span title="hi" class="text">.frozen</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.blocks</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">set()</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_target</span></span><span title="hi" class="text">.buffer</span></span></span><span title="hi" class="text">

                </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">if (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span></span><span title="hi" class="text"> and
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">current</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> != </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
                    ):
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text">.add</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span></span></span></span></span><span title="hi" class="text">
        else:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__changed_blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">set()</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">new_target</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__intervals</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def escape_local_minimum(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to restart the shrink process from a larger initial value in
        a way that allows us to escape a local minimum that the main greedy
        shrink process will get stuck in.

        The idea is that when we&#x27;ve completed the shrink process, we try
        starting it again from something reasonably near to the shrunk example
        that is likely to exhibit the same behaviour.

        We search for an example that is selected randomly among ones that are
        &quot;structurally similar&quot; to the original. If we don&#x27;t find one we bail
        out fairly quickly as this will usually not work. If we do, we restart
        the shrink process from there. If this results in us finding a better
        final example, we do this again until it stops working.

        This is especially useful for things where the tendency to move
        complexity to the right works against us - often a generic instance of
        the problem is easy to shrink, but trying to reduce the size of a
        minimized example further is hard. For example suppose we had something
        like:

        x = data.draw(lists(integers()))
        y = data.draw(lists(integers(), min_size=len(x), max_size=len(x)))
        assert not (any(x) and any(y))

        Then this could shrink to something like [0, 1], [0, 1].

        Attempting to shrink this further by deleting an element of x would
        result in losing the last element of y, and the test would start
        passing. But if we were to replace this with [a, b], [c, d] with c != 0
        then deleting a or b would work.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">10</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Retrying from random restart&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt_buf</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

            # We use the shrinking information to identify the
            # structural locations in the byte stream - if lowering
            # the block would result in changing the size of the
            # example, changing it here is too likely to break whatever
            # it was caused the behaviour we&#x27;re trying to shrink.
            # Everything non-structural, we redraw uniformly at random.
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.is_shrinking_block</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt_buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">uniform(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.random</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt_buf</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__predicate</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.update_shrink_target</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.greedy_shrink</span></span><span title="hi" class="text">()</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt;
                    </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                ):
                    # We have successfully shrunk the example past where
                    # we started from. Now we begin the whole processs
                    # again from the new, smaller, example.
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
                else:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.update_shrink_target</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">prev</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__shrinking_block_cache</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">{}</span></span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def try_shrinking_blocks(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempts to replace each block in the blocks list with b. Returns
        True if it succeeded (which may include some additional modifications
        to shrink_target).

        May call mark_shrinking with b if this causes a reduction in size.

        In current usage it is expected that each of the blocks currently have
        the same value, although this is not essential. Note that b must be
        &lt; the block at min(blocks) or this is not a valid shrink.

        This method will attempt to do some small amount of work to delete data
        that occurs after the end of the blocks. This is useful for cases where
        there is some size dependency on the value of a block. The amount of
        work done here is relatively small - most such dependencies will be
        handled by the interval_deletion_with_block_lowering pass - but will be
        effective when there is a large amount of redundant data after the
        block to be lowered.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">:]</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">initial_attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.INTERESTING</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text"> is </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span></span></span><span title="hi" class="text">

        # If this produced something completely invalid we ditch it
        # here rather than trying to persevere.
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text">.status</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">Status</span></span><span title="hi" class="text">.VALID</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lost_data</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">initial_data</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        # If this did not in fact cause the data size to shrink we
        # bail here because it&#x27;s not worth trying to delete stuff from
        # the remainder.
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lost_data</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.mark_shrinking</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">try_with_deleted</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span title="hi" class="text">initial_attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">del </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">try_with_deleted</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">lost_data</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">try_with_deleted</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def remove_discarded(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Try removing all bytes marked as discarded.

        This pass is primarily to deal with data that has been ignored while
        doing rejection sampling - e.g. as a result of an integer range, or a
        filtered strategy.

        Such data will also be handled by the adaptive_example_deletion pass,
        but that pass is necessarily more conservative and will try deleting
        each interval individually. The common case is that all data drawn and
        rejected can just be thrown away immediately in one block, so this pass
        will be much faster than trying each one individually when it works.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.has_discards</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">discarded</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.discarded</span></span><span title="hi" class="text"> and (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">discarded</span></span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">discarded</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
            )</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">discarded</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">))</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">reversed(</span><span class="node" id="dunno"><span title="hi" class="text">discarded</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">del </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">

        # We track whether discarding works because as long as it does we will
        # always want to run it whenever the option is available - whenever a
        # shrink ends up introducing new discarded data we can attempt to
        # delete it immediately. However if some discarded data looks essential
        # in some way then that would be wasteful, so we turn off the automatic
        # discarding if this ever fails. When this next runs explicitly, it
        # will reset the flag if the status changes.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__discarding_failed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def adaptive_example_deletion(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to delete every draw call, plus some short sequences of draw
        calls.

        The only things this guarantees to attempt to delete are every draw
        call and every draw call plus its immediate successor (the first
        non-empty draw call that starts strictly after it). However if this
        seems to be working pretty well it will do its best to exploit that
        and adapt to the fact there&#x27;s currently a lot that it can delete.

        This is the main point at which we try to lower the size of the data.
        e.g. if we have two successive draw calls, this will attempt to delete
        the first and replace it with the second.

        The fact that this will also try deleting the successor call is
        important. For example, if we have something like:

        while many.more(data):
            data.draw(stuff)

        This pass will attempt to delete adjacent pairs of calls to shorten the
        loop.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;greedy interval deletes&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">

            # Note: We do want this fixed rather than changing during this
            # iteration of the loop.
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span title="hi" class="text">def try_delete_range(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">):
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Can we delete k non-trivial non-overlapping examples
                starting from i?&quot;&quot;&quot;</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">stack</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.length</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text"> and (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">stack</span></span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">stack</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span></span></span><span title="hi" class="text">
                    )</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">stack</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.start</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ex</span></span><span title="hi" class="text">.end</span></span></span><span title="hi" class="text">))</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> -= </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span title="hi" class="text">stack</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">reversed(</span><span class="node" id="dunno"><span title="hi" class="text">stack</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">del </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">sort_key(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

            # This is an adaptive pass loosely modelled after timsort. If
            # little or nothing is deletable here then we don&#x27;t try any more
            # deletions than the naive greedy algorithm would, but if it looks
            # like we have an opportunity to delete a lot then we try to do so.

            # What we&#x27;re trying to do is to find a large k such that we can
            # delete k but not k + 1 draws starting from this point, and we
            # want to do that in O(log(k)) rather than O(k) test executions.

            # We try a quite careful sequence of small shrinks here before we
            # move on to anything big. This is because if we try to be
            # aggressive too early on we&#x27;ll tend to find that we lose out when
            # the example is &quot;nearly minimal&quot;.
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">2</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">3</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">4</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:

                    # At this point it looks like we&#x27;ve got a pretty good
                    # opportunity for a long run here. We do an exponential
                    # probe upwards to try and find some k where we can&#x27;t
                    # delete many intervals. We do this rather than choosing
                    # that upper bound to immediately be large because we
                    # don&#x27;t really expect k to be huge. If it turns out that
                    # it is, the subsequent example is going to be so tiny that
                    # it doesn&#x27;t really matter if we waste a bit of extra time
                    # here.
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">5</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">target</span></span><span title="hi" class="text">.examples</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> *= </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span></span><span title="hi" class="text">

                    # We now know that we can delete the first lo intervals but
                    # not the first hi. We preserve that property while doing
                    # a binary search to find the point at which we stop being
                    # able to delete intervals.
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">4</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">hi</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mid</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">hi</span></span></span><span title="hi" class="text">) // </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span></span><span title="hi" class="text">
                        else:
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span></span></span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">try_delete_range(</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            # We unconditionally bump i because we have always tried deleting
            # one more example than we succeeded at deleting, so we expect the
            # next example to be undeletable.
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def minimize_duplicated_blocks(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Find blocks that have been duplicated in multiple places and attempt
        to minimize all of the duplicates simultaneously.

        This lets us handle cases where two values can&#x27;t be shrunk
        independently of each other but can easily be shrunk together.
        For example if we had something like:

        ls = data.draw(lists(integers()))
        y = data.draw(integers())
        assert y not in ls

        Suppose we drew y = 3 and after shrinking we have ls = [3]. If we were
        to replace both 3s with 0, this would be a valid shrink, but if we were
        to replace either 3 with 0 on its own the test would start passing.

        It is also useful for when that duplication is accidental and the value
        of the blocks doesn&#x27;t matter very much because it allows us to replace
        more values at once.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Simultaneous shrinking of duplicated blocks&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def canon(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> and </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">:]</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">counts</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">Counter(
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">canon(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span></span></span><span title="hi" class="text">
        )</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">counts</span></span><span title="hi" class="text">.pop</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">hbytes()</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">None</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buffer</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">count</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">counts</span></span><span title="hi" class="text">.items</span></span><span title="hi" class="text">()</span></span><span title="hi" class="text"> if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">count</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">.sort</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">reverse=</span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">.sort</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">key=</span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">: </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">counts</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> * </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">reverse=</span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">block</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">targets</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
                </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
                if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">canon(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">block</span></span></span></span><span title="hi" class="text">
            ]</span></span></span><span title="hi" class="text">
            # This can happen if some blocks have been lost in the previous
            # shrinking.
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">targets</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">minimize(
                </span><span class="node" id="dunno"><span title="hi" class="text">block</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">: </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.try_shrinking_blocks</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">targets</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">random=</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.random</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">full=</span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
            )</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def minimize_individual_blocks(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to minimize each block in sequence.

        This is the pass that ensures that e.g. each integer we draw is a
        minimum value. So it&#x27;s the part that guarantees that if we e.g. do

        x = data.draw(integers())
        assert x &lt; 10

        then in our shrunk example, x = 10 rather than say 97.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Shrinking of individual blocks&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">minimize(
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">lambda </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">: </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.try_shrinking_blocks</span></span><span title="hi" class="text">((</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">,</span></span><span title="hi" class="text">), </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">,
                </span><span class="node" id="dunno"><span title="hi" class="text">random=</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.__engine</span></span><span title="hi" class="text">.random</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">full=</span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">,
            )</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def reorder_blocks(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;Attempt to reorder blocks of the same size so that lexically larger
        values go later.

        This is mostly useful for canonicalization of examples. e.g. if we have

        x = data.draw(st.integers())
        y = data.draw(st.integers())
        assert x == y

        Then by minimizing x and y individually this could give us either
        x=0, y=1 or x=1, y=0. According to our sorting order, the former is a
        better example, but if in our initial draw y was zero then we will not
        get it.

        When this pass runs it will swap the values of x and y if that occurs.

        As well as canonicalization, this can also unblock other things. For
        example suppose we have

        n = data.draw(st.integers(0, 10))
        ls = data.draw(st.lists(st.integers(), min_size=n, max_size=n))
        assert len([x for x in ls if x != 0]) &lt;= 1

        We could end up with something like [1, 0, 0, 1] if we started from the
        wrong place. This pass would reorder this to [0, 0, 1, 1]. Shrinking n
        can then try to delete the lost bytes (see try_shrinking_blocks for how
        this works), taking us immediately to [1, 1]. This is a less important
        role for this pass, but still significant.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Reordering blocks&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">block_lengths</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">sorted(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.block_starts</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">reverse=</span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">block_lengths</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.block_starts</span></span><span title="hi" class="text">.get</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">()</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.block_starts</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a_start</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b_start</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a_start</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a_start</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b_start</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b_start</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text"> = (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a_start</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">a_start</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">b_start</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text"> +
                        </span><span class="node" id="dunno"><span title="hi" class="text">a</span></span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b_start</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span></span><span title="hi" class="text">:]</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">buf</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text"> -= </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
                    else:
                        </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def interval_deletion_with_block_lowering(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;This pass tries to delete each interval while replacing a block that
        precedes that interval with its immediate two lexicographical
        predecessors.

        We only do this for blocks that are marked as shrinking - that
        is, when we tried lowering them it resulted in a smaller example.
        This makes it important that this runs after minimize_individual_blocks
        (which populates those blocks).

        The reason for this pass is that it guarantees that we can delete
        elements of ls in the following scenario:

        n = data.draw(st.integers(0, 10))
        ls = data.draw(st.lists(st.integers(), min_size=n, max_size=n))

        Replacing the block for n with its predecessor replaces n with n - 1,
        and deleting a draw call in ls means that we draw exactly the desired
        n - 1 elements for this list.

        We actually also try replacing n with n - 2, as we will have intervals
        for adjacent pairs of draws and that ensures that those will find the
        right block lowering in this case too.

        This is necessarily a somewhat expensive pass - worst case scenario it
        tries len(blocks) * len(intervals) = O(len(buffer)^2 log(len(buffer)))
        shrinks, so it&#x27;s important that it runs late in the process when the
        example size is small and most of the blocks that can be zeroed have
        been.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Lowering blocks while deleting intervals&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.intervals</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.intervals</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">False</span></span></span><span title="hi" class="text">
            # This loop never exits normally because the r &gt;= u branch will
            # always trigger once we find a block inside the interval, hence
            # the pragma.
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">s</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(  # pragma: no branch
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">
            )</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.is_shrinking_block</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">j</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">s</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">any(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_from_bytes(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

                    </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">m</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span title="hi" class="text">max(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">c</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_to_bytes(</span><span class="node" id="dunno"><span title="hi" class="text">m</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">s</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">c</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span title="hi" class="text">del </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span><span title="hi" class="text">
                            </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span><span title="hi" class="text">:
                        </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">changed</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def lower_dependent_block_pairs(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;This is a fairly specific shrink pass that is mostly specialised for
        our integers strategy, though is probably useful in other places.

        It looks for adjacent pairs of blocks where lowering the value of the
        first changes the size of the second. Where this happens, we may lose
        interestingness because this takes the prefix rather than the suffix
        of the next block, so if lowering the block produces an uninteresting
        value and this change happens, we try replacing the second block with
        its suffix and shrink again.

        For example suppose we had:

            m = data.draw_bits(8)
            n = data.draw_bits(m)

        And initially we draw m = 9, n = 1. This gives us the bytes [9, 0, 1].
        If we lower 9 to 8 then we now read [9, 0], because the block size of
        the n has changed. This pass allows us to also try [9, 1], which
        corresponds to m=8, n=1 as desired.

        This should *mostly* be handled by the minimize_individual_blocks pass,
        but that won&#x27;t always work because its length heuristic can be wrong if
        the changes to the next block have knock on size changes, while this
        one triggers more reliably.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.debug</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">&#x27;Lowering adjacent pairs of dependent blocks&#x27;</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_from_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> &gt; </span><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">:</span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">int_to_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">b</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">u</span></span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">hbytes(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.cached_test_function</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text"> is not </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text"> and
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text"> and
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
                ):
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">_</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">r</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">shrunk</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">0</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[:</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">r</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span></span><span title="hi" class="text">:]</span></span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">buf</span></span><span title="hi" class="text">)</span></span></span></span></span></span></span><span title="hi" class="text">

    </span><span class="node" id="dunno"><span title="hi" class="text">def reorder_bytes(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span></span><span title="hi" class="text">):
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">&quot;&quot;&quot;This is a hyper-specific and moderately expensive shrink pass. It is
        designed to do similar things to reorder_blocks, but it works in cases
        where reorder_blocks may fail.

        The idea is that we expect to have a *lot* of single byte blocks, and
        they have very different meanings and interpretations. This means that
        the reasonably cheap approach of doing what is basically insertion sort
        on these blocks is unlikely to work.

        So instead we try to identify the subset of the single-byte blocks that
        we can freely move around and more aggressively put those into a sorted
        order.

        This is useful because e.g. we draw integers as single bytes, and if we
        don&#x27;t have a pass like that then we&#x27;re unable to shrink from [10, 0] to
        [0, 10].

        In the event that we fail to do much sorting this is O(number of out of
        order pairs), which is O(n^2) in the worst case. In order to offset we
        try to do as much efficient sorting as possible to reduce the number of
        out of order pairs before we get to that stage.
        &quot;&quot;&quot;</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, (</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">v</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">enumerate(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.blocks</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">if (
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">v</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span><span title="hi" class="text"> and
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text"> not in </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.forced_indices</span></span></span></span><span title="hi" class="text">
            ):
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span><span title="hi" class="text">.append</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">u</span></span><span title="hi" class="text">)</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">not </span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">original</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">def attempt(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">new_ordering</span></span></span><span title="hi" class="text">):
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">new_ordering</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">assert </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">original</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">bytearray(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">zip(</span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">new_ordering</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.incorporate_new_buffer</span></span><span title="hi" class="text">(</span><span class="node" id="dunno"><span title="hi" class="text">attempt</span></span><span title="hi" class="text">)</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">sorted(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">attempt(</span><span class="node" id="dunno"><span title="hi" class="text">sorted(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">return </span><span class="node" id="dunno"><span title="hi" class="text">True</span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">

        # We now try to sort the &quot;high bytes&quot;. The idea here is that high bytes
        # are more likely to be &quot;payload&quot; in some sense: Their value matters
        # mostly in relation to the other values. Additionally they are likely
        # to be moved around more in the reordering, so if we can get them
        # sorted up front we will save a lot of time later.

        # In order to do this we use binary search to find a value v such that
        # we can sort all values &gt;= v. We do this in at most 8 steps (usually
        # less).

        # Invariant: We can sort the set of bytes which are &gt;= hi, we can&#x27;t
        # sort the set of bytes that are &gt;= lo.

        # But see comment below about how these invariants may occasionally be
        # violated.
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">min(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">max(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">hi</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">mid</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> + </span><span class="node" id="dunno"><span title="hi" class="text">hi</span></span></span><span title="hi" class="text">) // </span><span class="node" id="dunno"><span title="hi" class="text">2</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">excessive</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[</span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span title="hi" class="text">n</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> &gt;= </span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">trial</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">list(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">zip(</span><span class="node" id="dunno"><span title="hi" class="text">excessive</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">sorted(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">excessive</span></span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">trial</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">b</span></span></span></span><span title="hi" class="text">
            </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">trial</span></span><span title="hi" class="text"> == </span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span></span><span title="hi" class="text"> or </span><span class="node" id="dunno"><span title="hi" class="text">attempt(</span><span class="node" id="dunno"><span title="hi" class="text">trial</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if (
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> !=
                    </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">original</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                ):
                    </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
                # Technically this could result in us violating our invariants
                # if the bytes change too much. However if that happens the
                # loop is still useful so we carry on as if it didn&#x27;t.
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">hi</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">lo</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">mid</span></span></span></span></span><span title="hi" class="text">

        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">
        </span><span class="node" id="dunno"><span title="hi" class="text">while </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> &lt; </span><span class="node" id="dunno"><span title="hi" class="text">n</span></span></span><span title="hi" class="text">:
            </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">k</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">hrange(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> - </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span title="hi" class="text">-</span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> &lt;= </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span title="hi" class="text">continue</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">list(</span><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text">, </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">]</span></span></span></span><span title="hi" class="text">
                </span><span class="node" id="dunno"><span title="hi" class="text">if </span><span class="node" id="dunno"><span title="hi" class="text">attempt(</span><span class="node" id="dunno"><span title="hi" class="text">swapped</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text">:
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">k</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">if (
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span><span title="hi" class="text"> !=
                        </span><span class="node" id="dunno"><span title="hi" class="text">len(</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">original</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">)</span></span></span><span title="hi" class="text">
                    ):
                        </span><span class="node" id="dunno"><span title="hi" class="text">return</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">ordering</span></span><span title="hi" class="text"> = </span><span class="node" id="dunno"><span title="hi" class="text">[
                        </span><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">self</span></span><span title="hi" class="text">.shrink_target</span></span><span title="hi" class="text">.buffer</span></span><span title="hi" class="text">[</span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span></span><span title="hi" class="text">]</span></span><span title="hi" class="text"> </span><span class="node" id="dunno"><span title="hi" class="text">for </span><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> in </span><span class="node" id="dunno"><span title="hi" class="text">free_bytes</span></span></span><span title="hi" class="text">]</span></span></span><span title="hi" class="text">
                    </span><span class="node" id="dunno"><span title="hi" class="text">break</span></span></span><span title="hi" class="text">
            else:
                </span><span class="node" id="dunno"><span class="node" id="dunno"><span title="hi" class="text">i</span></span><span title="hi" class="text"> += </span><span class="node" id="dunno"><span title="hi" class="text">1</span></span></span></span></span></span></span></span><span title="hi" class="text">




</pre>

  </div>
  <div class="column2" style="background-color:#bbb;">
    <h2>Column 2</h2>
    <p>Some text..</p>
  </div>
</div>

</body>
</html>


<script>
    $(document).ready(function() {
        $('.text').mouseover(function() {
          parent = $(this).parent();
          parent.css("background-color", "yellow");
          $(".column2").text(parent[0].id)
        });
        $('.text').mouseout(function() {
          $(this).parent().css("background-color", "");
          $(".column2").text("hello!")
        });
    });
</script>

</html>
            